name: build-on-published


on:
  release:
    types: [published]

jobs:
  build:
    runs-on: ubuntu-latest 

    steps:
      - name: Check Out Repository
        uses: actions/create-release@v1

      - name: Tagging
        run: |
          TAG_NAME=${{ github.event.release.tag_name }} 
          echo "${TAG_NAME}"  

      - name: Build Docker Image
        run: |
          docker build -t pyappapi:${{ env.TAG_NAME }} . 
          